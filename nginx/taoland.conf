server {
    listen 8000;
    server_name localhost;
    location / {
        # root /usr/share/nginx/html;
        # index index.html index.htm;
        # proxy_set_header Host $host;
        # if (!-f $request_filename) {
        #   rewrite ^.*$ /index.html break;
        # }
        proxy_redirect off;
        proxy_connect_timeout 30; 
        proxy_send_timeout 30; 
        proxy_read_timeout 60; 
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://137.48.1.1:7999;
    }

    error_page 500 502 503 504 /50x.html;
    location = /50x.html {
        root /usr/share/nginx/html;
    }
}






# server {
#     listen  1020;
#     server_name www.yangyuetao.cn yangyuetao.cn;    #域名   
#     root         /usr/share/nginx/html;   #根目录
#     rewrite ^(.*)$  https://$host$1 permanent;      #重定向到https 
# }

# server {
#     listen 1021;
#     server_name  www.yangyuetao.cn yangyuetao.cn;
#     root         /usr/share/nginx/html;
#     ssl   on;
#     ssl_certificate "/etc/nginx/s9a5f7e/full_chain.pem";
#     ssl_certificate_key "/etc/nginx/s9a5f7e/private.key";
#     ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #按照这个协议配
#     ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;#按照这个加密套件配
#     ssl_session_cache shared:SSL:1m;
#     ssl_session_timeout  10m;
#     ssl_prefer_server_ciphers on;

#     # Load configuration files for the default server block.
#     # include /etc/nginx/default.d/*.conf;
    
#     #反向代理，凡是以/api开头的http请求都会被下面的服务器处理 
#     location /api {     
#         proxy_pass https://localhost:1013/api;
#         proxy_http_version 1.1;
#         proxy_set_header Upgrade $http_upgrade;
#         proxy_set_header Connection 'upgrade';
#         proxy_set_header Host $host;
#         proxy_cache_bypass $http_upgrade;
#     }

#     location / {
#         root         /usr/share/nginx/html;             #项目路径
#         index /index.html;                        
#         try_files $uri $uri/ $uri.html /index.html;        #匹配不到任何静态资源，跳到同一个index.html
#     }


#     error_page 404 /404.html;
#     location = /40x.html {
#     }
    
    
#     error_page 500 502 503 504 /50x.html;
#     location = /50x.html {
#         root /usr/share/nginx/html;
#     }
# }

